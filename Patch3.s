;
;
;	Patch3.s
;	From address 0x01B40000
;	From the MP2100 ROM 717260
;
;	Author		Jonathan Kipling Knight
;	Created		1/1/2001
;	Modified	1/1/2001
;
;

	INCLUDE project.a
	INCLUDE package.a
	INCLUDE bytecode.a
	INCLUDE page.a
	
	GBLA reORG	; to produce a false ORG in branches
	
	AREA Patch3, CODE, ABS
	ORG	BaseAddrPatch3
start

L01B40000
;	ORG	0x1B40000
	B	0x00157F68
	B	0x001595D0
	B	0x001597C0
	B	0x00159B28
	B	0x00159EE0
	B	0x00155F78
	B	0x001560A8
	B	0x00156114
	B	0x001561CC
	B	0x001562EC
	B	0x0015639C
	B	0x001563FC
	B	0x001564D8
	B	0x0015666C
	B	0x001577F0
	B	0x0020F71C
	B	0x00328628
	B	0x0021BC00
	B	0x001040A0
	B	0x0021AC50
	B	0x0021AC98
	B	0x001040D4
	B	0x001040FC
	B	0x01D806F4
	B	0x00157414
	B	0x00104118
	B	0x001041C0
	B	0x0020F5E4
	B	0x003880F0
	B	0x001041DC
	B	0x00104200
	B	0x0021ACC0

L01B40080
;	ORG	0x1B40080
	B	0x001A3CC8
	B	0x001A4564
	B	0x001FF050
	B	0x00209E08
	B	0x00245194
	B	0x002451FC
	B	0x00245B3C
	B	0x0024601C
	B	0x002460B4
	B	0x002461E0
	B	0x00246200
	B	0x00246250
	B	0x00246288
	B	0x002452F4
	B	0x00245EA8
	B	0x00245F00
	B	0x00245F34
	B	0x00245F8C
	B	0x00246050
	B	0x0024606C
	B	0x00209810
	B	0x00250B74
	B	0x00253CDC
	B	0x002552AC
	B	0x00255314
	B	0x01C70000
	B	0x002553F8
	B	0x0025551C
	B	0x002531BC
	B	0x002534C8
	B	0x00253828
	B	0x002539AC

L01B40100
;	ORG	0x1B40100
	B	0x00252A14
	B	0x00252A60
	B	0x00252AAC
	B	0x00252B98
	B	0x01C6F09C
	B	0x00252D44
	B	0x00252DC8
	B	0x00252F7C
	B	0x00252F90
	B	0x00253068
	B	0x00253170
	B	0x00253248
	B	0x002532F0
	B	0x0025346C
	B	0x00253570
	B	0x002535AC
	B	0x00253950
	B	0x00253994
	B	0x002539D0
	B	0x00253A1C
	B	0x00253B08
	B	0x00253B14
	B	0x00253C9C
	B	0x00253CAC
	B	0x00253D50
	B	0x00253DA0
	B	0x00253DF0
	B	0x00253E68
	B	0x00253EBC
	B	0x00253F54
	B	0x0025412C
	B	0x00254250

L01B40180
	LDR	R12,D0
	CMP	R12,LR
	BNE	0x001AA8EC
	LDR	R0,[R0]
	MOVS	R0,R0,LSR #16
	BEQ	L1
	ADD	R1,sp,#12
	MOV	R0,R4
	BL	0x01AB2920
	TEQ	R0,#0
	BEQ	L2
L1	MOV	R0,#0
	STR	R0,[sp]
	B	0x001AA9DC
L2	MOV	R0,R4
	BL	0x001AA8EC
	B	0x001AA9CC
D0	DCD	0x001AA9CC

L01B401C8

	MOV	R12,sp
	STMFD	sp!,{R4-R8,R11,R12,LR,PC}
	SUB	R11,R12,#4
	MOV	R5,R0
	MOV	R4,R1
	MOV	R6,#0
	MOV	R8,#0
	LDR	R0,[R1]
	TEQ	R0,#0
	BNE	0x002706C0
	B	0x002706B0
	
	FILL 3,0xDEADC0DE

L01B40200
;	ORG	0x1B40200
	B	0x00256C24
	B	0x0025CAB8
	B	0x00256968
	B	0x0025626C
	B	0x00256860
	B	0x00256868
	B	0x0025C7B4
	B	0x00257310
	B	0x00255C04
	B	0x0025C8FC
	B	0x00256870
	B	0x0025C9F0
	B	0x002956CC
	B	0x0004D628
	B	0x003108E4
	B	0x0024E2A0
	B	0x00264148
	B	0x0029B5EC
	B	0x0029AE18
	B	0x00297FE4
	B	0x002CF684
	B	0x0029A884
	B	0x002CF8CC
	B	0x01A5C580
	B	0x0029AB18
	B	0x003108E4
	B	0x0027CB48
	B	0x002CC9D0
	B	0x002DBF60
	B	0x0027C930
	B	0x002CF3E0
	B	0x0004D18C

L01B40280
	MOV	R12,sp
	STMFD	sp!,{R4,R5,R12}
	LDR	R4,D1
	LDRB	R5,[R12]
	STR	R5,[R4]
	LDMEA	R12,{R4,R5,sp}
	B	0x0023CC58
D1	DCD	0x0C1064E0

L01B402A0
	LDR	R12,D8
	CMP	R12,LR
	BNE	0x0035B220
	LDR	R0,D1
	LDR	R0,[R0]
	TST	R0,#1
	BEQ	L11
	SUB	sp,sp,#32
	LDR	R0,D9
	BL	0x01BEF7AC
	STR	R0,[sp,#28]
	MOV	R3,sp
	MOV	R2,#0
	STMFD	sp!,{R2,R3}
	SUB	sp,sp,#8
	ADD	R0,R5,#16
	LDMFD	R0,{R12,LR}
	STMEA	sp,{R12,LR}
	MOV	R3,#0
	LDMFD	R5,{R0-R2}
	BL	0x01B518BC
	ADD	sp,sp,#16
	LDR	R0,[sp,#28]
	BL	0x01BEF7AC
	LDR	R1,[sp,#36]
	STR	R1,[sp,#32]
	LDR	R1,[R5,#56]
	LDR	R0,[sp,#20]
	BL	0x01BE10C4
	MOV	R2,R0
	LDR	R3,[sp,#32]
	CMP	R3,R0
	BLE	L3
	MOV	R1,R6
	LDR	R0,[R5,#40]
	LDR	R3,[sp,#32]
	SUB	R2,R3,R2
	CMP	R2,#0
	BLE	L3
L4	LDR	R3,[R0]
	SUB	R3,R3,#0x00010000
	SUB	R2,R2,#0x00010000
	SUBS	R1,R1,#1
	STR	R3,[R0],#4
	MOVEQ	R1,R6
	LDREQ	R0,[R5,#40]
	CMP	R2,#0
	BGT	L4
L3	ADD	sp,sp,#32
	B	L6
L11	TST	R0,#2
	BEQ	L12
	LDR	R0,[R5,#16]
	LDR	R1,[R7]
	LDR	R1,[R1,#6]
	MOV	R1,R1,LSR #16
	RSB	R1,R0,R1,LSL #16
	CMP	R1,#0
	ADDGT	R0,R0,R1
	STRGT	R0,[R5,#16]
	MOVGT	R2,R6
	LDRGT	R0,[R5,#40]
	BLE	L6
L5	LDR	R3,[R0]
	SUB	R3,R3,#0x00010000
	SUB	R1,R1,#0x00010000
	SUBS	R2,R2,#1
	STR	R3,[R0],#4
	MOVEQ	R2,R6
	LDREQ	R0,[R5,#40]
	CMP	R1,#0
	BGT	L5
	B	L6
L12	TST	R0,#4
	BEQ	L6
	LDR	R0,[R5,#16]
	LDR	R1,[R7]
	LDR	R1,[R1,#6]
	MOV	R1,R1,LSR #16
	RSB	R1,R0,R1,LSL #16
	CMP	R1,#0
	ADDGT	R0,R0,R1
	STRGT	R0,[R5,#16]
	MOVGT	R2,R6
	LDRGT	R0,[R5,#40]
	BLE	L13
L14	LDR	R3,[R0]
	SUB	R3,R3,#0x00010000
	SUB	R1,R1,#0x00010000
	SUBS	R2,R2,#1
	STR	R3,[R0],#4
	MOVEQ	R2,R6
	LDREQ	R0,[R5,#40]
	CMP	R1,#0
	BGT	L14
L13	LDR	R0,[R5,#16]
	LDR	R1,[sp,#4]
	ADD	R0,R0,R1
	LDR	R1,[R7]
	LDR	R1,[R1,#10]
	MOV	R1,R1,LSR #16
	SUB	R1,R0,R1,LSL #16
	CMP	R1,#0
	MOVGT	R2,R6
	LDRGT	R0,[R5,#40]
	BLE	L6
L7	LDR	R3,[R0]
	SUB	R3,R3,#0x00010000
	SUB	R1,R1,#0x00010000
	SUBS	R2,R2,#1
	STR	R3,[R0],#4
	MOVEQ	R2,R6
	LDREQ	R0,[R5,#40]
	CMP	R1,#0
	BGT	L7
L6	LDR	R3,D1
	MOV	R1,#0
	STR	R1,[R3]
	B	0x0035C684
D8	DCD	0x0035C62C
D9	DCD	0x0C1067CC

L01B40484
	MOV	R12,sp
	STMFD	sp!,{R4-R9,R11,R12,LR,PC}
	SUB	R11,R12,#4
	MOV	R4,R1
	MOV	R6,R2
	MOV	R5,R3
	SUB	sp,sp,#8
	LDR	R0,D2
	LDR	R0,[R0]
	LDR	R1,[R0]
	LDR	R0,[R4]
	LDR	R0,[R0]
	BL	0x01BC4260
	BL	0x01BC214C
	STR	R0,[sp]
	MOV	R0,#2
	BL	0x01BC214C
	STR	R0,[sp,#4]
	ADD	R7,sp,#4
	LDR	R0,[sp]
	LDR	R0,[R0]
	TEQ	R0,#2
	BEQ	L15
	SUB	sp,sp,#12
	LDR	R0,D3
	LDR	R0,[R0]
	LDR	R1,[R0]
	LDR	R0,[R4]
	LDR	R0,[R0]
	BL	0x01BC4260
	BL	0x01BC214C
	STR	R0,[sp]
	MOV	R0,sp
	BL	0x01BC216C
	BL	0x01BC214C
	STR	R0,[sp,#8]
	LDR	R0,[sp]
	BL	0x01BC31BC
	LDR	R9,D10
	LDR	R0,[R9]
	LDR	R1,[R0]
	LDR	R0,[R4]
	LDR	R0,[R0]
	BL	0x01BC4260
	BL	0x01BC214C
	STR	R0,[sp,#4]
	ADD	R2,sp,#12
	LDR	R1,D10
	MOV	R8,R1
	MOV	R0,R4
	BL	0x01BC6368
	MOV	R3,R5
	MOV	R2,R6
	MOV	R1,R4
	MOV	R0,R7
	BL	0x0003F764
	LDR	R0,[R9]
	LDR	R1,[R0]
	LDR	R0,[R4]
	LDR	R0,[R0]
	BL	0x01BC4260
	LDR	R1,[sp,#12]
	ADD	R2,sp,#12
	STR	R0,[R1]
	LDR	R1,D2
	MOV	R0,R4
	BL	0x01BC6368
	ADD	R2,sp,#4
	MOV	R1,R8
	MOV	R0,R4
	BL	0x01BC6368
	ADD	R2,sp,#8
	LDR	R1,D3
	MOV	R0,R4
	BL	0x01BC6368
	LDR	R0,[sp,#4]
	BL	0x01BC31BC
	LDR	R0,[sp,#8]
	BL	0x01BC31BC
	ADD	sp,sp,#12
L15	MOV	R3,R5
	MOV	R2,R6
	MOV	R1,R4
	MOV	R0,R7
	BL	0x0003F764
	MOV	R4,R0
	LDR	R0,[sp]
	BL	0x01BC31BC
	LDR	R0,[sp,#4]
	BL	0x01BC31BC
	MOV	R0,R4
	LDMEA	R11,{R4-R9,R11,sp,PC}
D2	DCD	0x006837B0
D3	DCD	0x00682190
D10	DCD	0x006827A0

L01B40600
;	ORG	0x1B40600
	B	0x002AC238
	B	0x002AC2D4
	B	0x002AC380
	B	0x002AC3E0
	B	0x002AC420
	B	0x002AC864
	B	0x002ACA00
	B	0x002ACA24
	B	0x002ACA48
	B	0x002ACA84
	B	0x002ACBB8
	B	0x002ACE48
	B	0x002ACF8C
	B	0x002ACFC4
	B	0x002AD020
	B	0x002AD0EC
	B	0x002AD16C
	B	0x002AD17C
	B	0x002AD1B0
	B	0x002AD594
	B	0x002AD66C
	B	0x002AD6F8
	B	0x002AD70C
	B	0x002AD72C
	B	0x002AD734
	B	0x002AD7E0
	B	0x002AD87C
	B	0x01C14880
	B	0x002AD440
	B	0x002AD4D4
	B	0x002AD550
	B	0x002B1720

L01B40680
	LDR	R1,[R0,#32]
	CMN	R1,#2
	BEQ	0x00239E0C
	LDR	R2,[R0,#20]
	CMP	R2,#0
	BGE	0x00239E0C
	CMP	R1,#0
	BGE	0x00239E0C
	LDR	R2,[R0]
	CMP	R2,#0
	BGE	0x00239E0C
	LDR	R2,[R0,#8]
	CMP	R2,#0
	BLT	0x00239E0C
	MOV	R1,#0
	B	0x00239E6C

L01B406C0
	LDR	R12,D4
	CMP	R12,LR
	BNE	0x00340264
	ADD	LR,LR,#4
	STMFD	sp!,{LR}
	BL	0x00340264
	BL	0x01B4A574
	CMP	R0,#16
	MOVGE	R0,#0
	LDMFD	sp!,{PC}
D4	DCD	0x003348BC


L01B406EC

	LDR	R12,[R2,#264]
	SUB	R12,R12,#0x00001200
	TEQ	R12,#52
	BNE	0x00331804
	MOV	PC,LR

L01B40700
;	ORG	0x1B40700
	B	0x000AA6A0
	B	0x000AA6F0
	B	0x000AA724
	B	0x000AA798
	B	0x000AA898
	B	0x000AA9F0
	B	0x000AA8C8
	B	0x000AA908
	B	0x000AA97C
	B	0x000AAA5C
	B	0x000AAAC4
	B	0x000AAB18
	B	0x000AAB60
	B	0x000AADD0
	B	0x000AAE20
	B	0x000AAE6C
	B	0x000AB160
	B	0x01C63234
	B	0x01C63294
	B	0x000AB328
	B	0x000AB3E0
	B	0x000AB3F8
	B	0x000AB458
	B	0x000AB48C
	B	0x000AB4AC
	B	0x000AB4CC
	B	0x000AB510
	B	0x000AB550
	B	0x000AB590
	B	0x000AB688
	B	0x000AB6A4
	B	0x003D7E94

L01B40780
;	ORG	0x1B40780
	B	0x000FEBD8
	B	0x00022B48
	B	0x001A0F54
	B	0x0005D61C
	B	0x00059358
	B	0x0005C6D4
	B	0x0002A884
	B	0x0007A75C
	B	0x001FF440
	B	0x019DD6C8
	B	0x002354AC
	B	0x00235794
	B	0x0011E214
	B	0xFFFBF234
	B	0xFFFBFCC8
	B	0xFFFC057C
	B	0xFFFBE488
	B	0xFFFBF034
	B	0xFFFBF118
	B	0xFFFBDCC4
	B	0xFFFBE44C
	B	0xFFFBF738
	B	0xFFFC0250
	B	0xFFFC08EC
	B	0xFFFC0D08
	B	0xFFFBE794
	B	0xFFFBEBA4
	B	0xFFFBF078
	B	0xFFFBF0CC
	B	0xFFFBF17C
	B	0xFFFBF1B8
	B	0x0024543C

L01B40800
;	ORG	0x1B40800
	B	0x002D4388
	B	0x00310AC4
	B	0x003179AC
	B	0x002D46B4
	B	0x002D460C
	B	0x0017A964
	B	0x003318C0
	B	0x001BC894
	B	0x0017A9A4
	B	0x0009DCBC
	B	0x01AD03E4
	B	0x0009DCE8
	B	0x0009DD48
	B	0x0009DA30
	B	0x0009DCB4
	B	0x002E7C3C
	B	0x00330718
	B	0x0033108C
	B	0x002D2CD8
	B	0x0032F658
	B	0x0029A944
	B	0x002C1FE8
	B	0x00310574
	B	0x00317DC4
	B	0x003258B8
	B	0x00330074
	B	0x003314C0
	B	0x00334D98
	B	0x0017A97C
	B	0x00322088
	B	0x00325810
	B	0x002E7664

L01B40880
	MOV	R12,sp
	STMFD	sp!,{R4,R5,R11,R12,LR,PC}
	SUB	R11,R12,#4
	MOV	R4,R0
	LDR	R2,[R0]
	LDR	R0,[R0,#4]
	MOV	R1,#0
	STR	R1,[R0]
	LDR	R0,[R4,#12]
	LDR	R1,D11
	STR	R0,[R1]
	MOV	R1,#0x00098000
	ADD	R1,R1,#0x0F000000
	LDR	R0,[R4,#12]
L18	LDR	R3,[R1]
	TST	R3,R0
	BNE	L18
	ADD	R0,R2,#0x00001000
	LDR	R0,[R0]
	LDR	R1,[R4,#56]
	SUBS	R0,R1,R0
	TEQNE	R1,#0
	LDMEQEA	R11,{R4,R5,R11,sp,PC}
	LDR	R1,[R2,#1024]
	SUB	sp,sp,#4
	LDR	R3,[R4,#44]
	SUB	R1,R1,R3
	STR	R1,[sp]
	LDR	R3,[R4,#16]
	TST	R3,#2
	BEQ	L16
	MOV	R1,sp
	MOV	R2,#0
	LDR	R0,[R4,#36]
	LDR	R5,[R4,#56]
	BL	0x01C06354
	LDR	R0,[sp]
	ADD	R1,R0,R5
	STR	R1,[sp]
	LDR	R0,[R4,#48]
	CMP	R0,R1
	BHI	L8
	B	L17
D11	DCD	0x0F098400
D5	DCD	0x0F098800
L16	LDR	R3,D5
	LDR	R3,[R3]
	LDR	R12,[R4,#12]
	TST	R3,R12
	BEQ	L8
	BIC	R1,R1,#3
	STR	R1,[sp]
	LDR	R3,[R4,#40]
	ADD	R1,R3,R1
	LDR	R3,[R2,#2048]!
	LDR	R2,[R4,#52]
	ADD	R0,R2,R0
	ANDS	R0,R0,#3
	MOVEQ	R0,#4
	RSB	R2,R0,#4
	MOV	R12,R2,LSL #3
	MVN	R2,#0
	MOV	R2,R2,LSL R12
	AND	R3,R3,R2
	LDR	R12,[R1]
	BIC	R2,R12,R2
	ORR	R2,R2,R3
	STR	R2,[R1]
	LDR	R1,[sp]
	ADD	R1,R1,R0
	STR	R1,[sp]
	LDR	R0,[R4,#48]
	CMP	R0,R1
	BHI	L8
L17	SUB	R0,R1,R0
	STR	R0,[sp]
L8	LDR	R0,[R4,#36]
	MOV	R3,#0
	MOV	R2,#0
	LDR	R1,[sp]
	BL	0x01C06358
	LDR	R0,[R4,#36]!
	BL	0x01C07384
	LDMEA	R11,{R4,R5,R11,sp,PC}
	MOV	R12,sp
	STMFD	sp!,{R11,R12,LR,PC}
	SUB	R11,R12,#4
	ADR	R0,D12
	LDMFD	R0,{R1-R3}
	LDR	R0,D13
	STMEA	R0,{R1-R3}
	MOV	R2,#0x00110000
	ADD	R2,R2,#0x0F000000
	LDR	R3,[R2]
	ORR	R3,R3,#128
	STR	R3,[R2]
	MOV	R3,#0
	MOV	R2,#0x00048000
	ADD	R2,R2,#0x0F000000
	STR	R3,[R2]
	MOV	R1,#0
	MOV	R0,#21
	BL	L9
	MOV	R0,#26
	BL	L9
	MOV	R0,#27
	BL	L9
	MOV	R0,#28
	BL	L9
	MOV	R0,#31
	LDMEA	R11,{R11,sp,LR}
L9	MOV	R3,#0x00050000
	ADD	R3,R3,#0x0F000000
	ADD	R0,R3,R0,LSL #10
L10	LDR	R3,[R2]
	TST	R3,#0x00001000
	BNE	L10
	STR	R1,[R0]
	MOV	PC,LR
D12	DCD	0x0C60
	DCD	0
	DCD	0x0064A001
D13	DCD	0x0C106510
	LDR	R12,D6
	CMP	R12,LR
	MOVEQ	PC,LR
	B	0x0019A064
D6	DCD	0x000EA314

L01B40A80
;	ORG	0x1B40A80
	B	0x0032C7B4
	B	0x0032BD88
	B	0x0032C1CC
	B	0x00299FC0
	B	0x0023F49C
	B	0x00175E9C
	B	0x0032C1F4
	B	0x003326E8
	B	0x0032B4E0
	B	0x0001B37C
	B	0x0001B33C
	B	0x001B10B8
	B	0x0023F0C0
	B	0x001B110C
	B	0x0023F294
	B	0x003206E4
	B	0x0032A548
	B	0x0031E6EC
	B	0x0031ECD0
	B	0x01D6BA00
	B	0x0029A130
	B	0x0029A2C0
	B	0x0029A1FC
	B	0x0031C980
	B	0x002A9FDC
	B	0x002A9FFC
	B	0x001B79DC
	B	0x00313E90
	B	0x0031340C
	B	0x00313FC0
	B	0x00032AD4
	B	0x00032B10

L01B40B00
;	ORG	0x1B40B00
	B	0x00057280
	B	0x000573C0
	B	0x000572E8
	B	0x0005756C
	B	0x00057574
	B	0x0005757C
	B	0x00057620
	B	0x00057670
	B	0x00057288
	B	0x0005769C
	B	0x000576DC
	B	0x000576FC
	B	0x000578C8
	B	0x00057A24
	B	0x00390828
	B	0x0005B600
	B	0x000552D8
	B	0x0005BAD8
	B	0x00056D6C
	B	0x0005C664
	B	0x0005CA70
	B	0x01C1B650
	B	0x0005C66C
	B	0x0005D7AC
	B	0x0005D87C
	B	0x00059F04
	B	0x00059F0C
	B	0x00055120
	B	0x000580FC
	B	0x00056020
	B	0x0005B6A4
	B	0x00055DD0

new18	; new @18 (referenced by Patch1)
	ObjectHeader (L01B40B94-{PC}), kFrameObject
	PointerRef L01B40B94
	PointerRef 0x0063B90C
	PointerRef L01B40BAC
L01B40B94
	ObjectHeader (L01B40BAC-{PC}), kArrayObject
	IntegerRef 4
	NILRef
	PointerRef 0x003BB31C
	PointerRef 0x004ADB2C
L01B40BAC
	ObjectHeader (L01B40BC0-{PC}), kFrameObject
	PointerRef L01B40BC0
	PointerRef 0x0050B538
	PointerRef L01B40BD8
L01B40BC0
	ObjectHeader (L01B40BD8-{PC}), kArrayObject
	IntegerRef 4
	NILRef
	PointerRef 0x003BB31C
	PointerRef 0x003C4544
L01B40BD8
	FnObject L01B40BF8, L01B40C1C, 1, 0
L01B40BF8
	ObjectHeader (fnEnd-{PC}), kBinaryObject
	PointerRef 0x00535F6C
	DCD	0x18480071
	DCD	0x1A38A37B
	DCD	0x1B296F00
	DCD	0x137B1C29
	DCD	0x5F001422
	Return
fnEnd
	BinaryFiller 0xBA
L01B40C1C
	ObjectHeader (L01B40C3C-{PC}), kArrayObject
	PointerRef 0x00629434
	PointerRef 0x003C4544
	PointerRef 0x00480208
	PointerRef 0x004A70B4
	PointerRef 0x003B3158
	PointerRef 0x003B2914

L01B40C3C
	STMFD	sp!,{R0,LR}
	BL	0x000B7FEC
	LDMFD	sp!,{R0,LR}
	LDR	R1,[R0,#704]
	ADD	R1,R1,#0x00000388
	ADD	R1,R1,#0x00001000
	STR	R1,[R0,#704]
	MOV	PC,LR
	STMFD	sp!,{R0,R1,LR}
	BL	0x0006399C
	LDMFD	sp!,{R1,R2,LR}
	TEQ	R2,#15
	MOVNE	PC,LR
	LDR	R2,[R1,#1932]
	ADD	R2,R2,#0x000007D0
	STR	R2,[R1,#1932]
	MOV	PC,LR

L01B40C80
;	ORG	0x1B40C80
	B	0x00317108
	B	0x003173B4
	B	0x00317658
	B	0x00317798
	B	0x003179CC
	B	0x00317AA4
	B	0x01BF86E0
	B	0x00317F50
	B	0x00317CC0
	B	0x00317068
	B	0x003170B8
	B	0x00317FF0
	B	0x00317FF8
	B	0x0031813C
	B	0x003184C8
	B	0x00318754
	B	0x01B276EC
	B	0x00170F70
	B	0x00170F78
	B	0x0017136C
	B	0x001710E8
	B	0x0017141C
	B	0x00171144
	B	0x001711A0
	B	0x0017127C
	B	0x001712F0
	B	0x00171390
	B	0x0032E858
	B	0x0032E9AC
	B	0x0032E9F0
	B	0x0032E8A0
	B	0x0032E8E4

L01B40D00
	ObjectHeader (L01B40D18-{PC}), kFrameObject
	PointerRef L01B40D18
	PointerRef 0x0063C270
	PointerRef L01B40D34
	PointerRef L01B40E1C
L01B40D18
	ObjectHeader 0x1C, kArrayObject
	IntegerRef 4
	NILRef
	DCD	0x003BB31D
	DCD	0x0051A7F1
	DCD	0x0051AC59
L01B40D34
	FnObject L01B40D54, L01B40DD0, 1, 0
L01B40D54
	DCD	0x00007B40
	DCD	0x00000000
	DCD	0x00535F6D
	DCD	0x18480071
	DCD	0x1A9120C7
	DCD	0x000A6F00
	DCD	0x1D711A73
	DCD	0x1C91711D
	DCD	0x91C12700
	DCD	0x08C70009
	DCD	0x9822031E
	DCD	0x39A37B1D
	DCD	0x91731C91
	DCD	0xC7000B67
	DCD	0x003E7B1F
	DCD	0x00079173
	DCD	0x1F000891
	DCD	0xC7000B5F
	DCD	0x00412700
	DCD	0x1A6F006D
	DCD	0x27000C1F
	DCD	0x00091F00
	DCD	0x0A1F000B
	DCD	0x281F000C
	DCD	0x3B00031F
	DCD	0x000D221F
	DCD	0x000E2B00
	DCD	0x20202020
	DCD	0x1F000F84
	DCD	0xA9715F00
	DCD	0x6E2202BA
L01B40DD0
	DCD	0x00004C41
	DCD	0x00000000
	DCD	0x00629435
	DCD	0x0051A7F1
	DCD	0x0051A815
	DCD	0x003BE71D
	DCD	0x003BCFD1
	DCD	0x003BB779
	DCD	0x003C292D
	DCD	0x003BF801
	DCD	0x003BDDB5
	DCD	0x003BB721
	PointerRef L01B40ED8
	PointerRef L01B40EF0
	DCD	0x003B420D
	DCD	0x003BF385
	DCD	0x00418EED
	DCD	0x003B0F05
	PointerRef L01B40F4C
L01B40E1C
	FnObject L01B40E3C, L01B40EA0, 4, 0
L01B40E3C
	DCD	0x00006240
	DCD	0x00000000
	DCD	0x00535F6D
	DCD	0x182822C7
	DCD	0x0011A45F
	DCD	0x001A7C24
	DCD	0xC2A37B19
	DCD	0x38C56F00
	DCD	0x181A0200
	DCD	0x7C057C06
	DCD	0x6F000A22
	DCD	0x22A4001B
	DCD	0x281C91A5
	DCD	0x1D270114
	DCD	0xC97D1E1F
	DCD	0x0007981F
	DCD	0x000848A6
	DCD	0x7D1E1F00
	DCD	0x092A0007
	DCD	0x00075F00
	DCD	0x547D1E1F
	DCD	0x00092A00
	DCD	0x1F000A28
	DCD	0x00070007
	DCD	0x7E02BABA
L01B40EA0
	DCD	0x00003841
	DCD	0x00000000
	DCD	0x00629435
	DCD	0x003B4339
	DCD	0x003B500D
	PointerRef L01B40F6C
	DCD	0x003B420D
	DCD	0x003BADF9
	DCD	0x003C6F4D
	DCD	0x0051ACFD
	PointerRef L01B40F80
	DCD	0x0051AC59
	DCD	0x003B6F9D
	DCD	0x003B7215
L01B40ED8
	UnicodeCStringObject ("Book")
L01B40EF0
	UnicodeCStringObject ("Book layout is larger than the screen.")
L01B40F4C
	ObjectHeader 0x20, kArrayObject
	IntegerRef 0
	NILRef
	PointerRef 0x003BE71C
	PointerRef 0x003C1A38
	PointerRef 0x003C292C
	PointerRef 0x003BDDB4
L01B40F6C
	ObjectHeader 0x14, kFrameObject
	PointerRef 0x0051AD38
	PointerRef L01B40FC8
	PointerRef L01B40FD4
L01B40F80
	FnObject L01B40FA0, L01B40FB4, 0, 3
L01B40FA0
	ObjectHeader (fn2End-{PC}), kBinaryObject
	PointerRef 0x00535F6C
	DCB	0x7B
	DCB	0x7C
	DCB	0x18
	DCB	0x19
	DCB	0x4B
	Return
fn2End
	BinaryFiller 0xBA
L01B40FB4
	ObjectHeader 0x14, kArrayObject
	PointerRef 0x00629434
	PointerRef 0x003C5F4C
	PointerRef 0x0051ACFC
L01B40FC8
	ObjectHeader 0xC, kArrayObject
	PointerRef 0x003B0038
L01B40FD4
	ObjectHeader 0xC, kArrayObject
	PointerRef 0x003B0038


L01B40FE0
	TEQ	R1,#0
	LDREQ	R1,D7
	B	0x01BC1090
D7	DCD	0xFFFF6997

	FILL 4, 0xDEADC0DE

	END
